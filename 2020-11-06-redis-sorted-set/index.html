<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/river.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"riverferry.site","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="redis有序结合的命令部分熟悉">
<meta property="og:type" content="article">
<meta property="og:title" content="redis sorted set">
<meta property="og:url" content="https://riverferry.site/2020-11-06-redis-sorted-set/index.html">
<meta property="og:site_name" content="TheRiver | blog">
<meta property="og:description" content="redis有序结合的命令部分熟悉">
<meta property="og:locale">
<meta property="article:published_time" content="2020-11-06T00:00:00.000Z">
<meta property="article:modified_time" content="2022-09-12T16:24:32.288Z">
<meta property="article:author" content="TheRiver">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://riverferry.site/2020-11-06-redis-sorted-set/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'default'
  };
</script>

  <title>redis sorted set | TheRiver | blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">TheRiver | blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">You have reached the world's edge, none but devils play past here</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/RiverFerry/RiverFerry.github.io" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://riverferry.site/2020-11-06-redis-sorted-set/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="TheRiver">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TheRiver | blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          redis sorted set
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-06 00:00:00" itemprop="dateCreated datePublished" datetime="2020-11-06T00:00:00+00:00">2020-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-09-12 16:24:32" itemprop="dateModified" datetime="2022-09-12T16:24:32+00:00">2022-09-12</time>
              </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>9 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <div class="note info">
            <p>redis有序结合的命令部分熟悉</p>
          </div>

<a id="more"></a>

<h2 id="BZPOPMAX"><a href="#BZPOPMAX" class="headerlink" title="BZPOPMAX"></a>BZPOPMAX</h2><blockquote>
<p>BZPOPMAX key [key …] timeout</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; bzpopmax set2 set3 1    &#x2F;&#x2F;阻塞1s后返回nil</span><br><span class="line">(nil)</span><br><span class="line">(1.02s)</span><br><span class="line">127.0.0.1:6379&gt; bzpopmax set2 set3 0    &#x2F;&#x2F;set2和set3都是empty,timeout&#x3D;0永久阻塞 </span><br><span class="line">^C</span><br><span class="line">127.0.0.1:6379&gt; bzpopmax set0 set1 0    &#x2F;&#x2F;set0和set1都是非空，返回set0的第一个max元素</span><br><span class="line">1) &quot;set0&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;20&quot;</span><br><span class="line">127.0.0.1:6379&gt; bzpopmax set2 set1 0    &#x2F;&#x2F;set2是空，set1非空，返回非空的set1</span><br><span class="line">1) &quot;set1&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;1&quot;</span><br></pre></td></tr></table></figure>

<h2 id="BZPOPMIN"><a href="#BZPOPMIN" class="headerlink" title="BZPOPMIN"></a>BZPOPMIN</h2><p>同上，一个最大一个最小</p>
<h2 id="ZADD"><a href="#ZADD" class="headerlink" title="ZADD"></a>ZADD</h2><h3 id="options"><a href="#options" class="headerlink" title="options"></a>options</h3><ul>
<li>XX    只更新已存在的成员，不新增</li>
<li>NX    不更新已经存在的成员，总是新增</li>
<li>LT    如果新的分数比原来的小则更新，不新增    //ver&gt;=6.2: Added the GT and LT options.</li>
<li>GT    如果新的分数比原来的大则更新，不新增    //ver&gt;=6.2: Added the GT and LT options.</li>
<li>CH    修改返回值为发生变化的成员个数(区别原来是返回新增的成员个数)</li>
<li>INCR  类似ZINCRBY命令，增加成员的分数，只能增加一个成员</li>
</ul>
<h3 id="return-value"><a href="#return-value" class="headerlink" title="return value"></a>return value</h3><ul>
<li>默认返回新增的成员数量，不包括更新的 If the INCR option is specified, the return value will be Bulk string reply:</li>
<li>The new score of member (a double precision floating point number) represented as string, or nil if the operation was aborted (when called with either the XX or the NX option).</li>
</ul>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZADD set0 10 a 20 b</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 XX 11 a 30 c  &#x2F;&#x2F;更新a,新增c失败</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE set0 0 -1 WITHSCORES</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;11&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;20&quot;</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 NX 40 d 12 a  &#x2F;&#x2F;新增d,更新a失败</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE set0 0 -1 WITHSCORES</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;11&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;20&quot;</span><br><span class="line">5) &quot;d&quot;</span><br><span class="line">6) &quot;40&quot;</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 LT 10 a 21 b</span><br><span class="line">(error) ERR syntax error</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 LT 10 a   &#x2F;&#x2F;当前版本不支持</span><br><span class="line">(error) ERR syntax error</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 CH 12 a 30 c  &#x2F;&#x2F;变化变化的总数</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE set0 0 -1 WITHSCORES</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;12&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;20&quot;</span><br><span class="line">5) &quot;c&quot;</span><br><span class="line">6) &quot;30&quot;</span><br><span class="line">7) &quot;d&quot;</span><br><span class="line">8) &quot;40&quot;</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 CH XX 11 a    &#x2F;&#x2F;配合其他参数</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 XX 13 a       &#x2F;&#x2F;区别老的返回值</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; ZADD set0 50.1 e    &#x2F;&#x2F;支持浮点数</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE set0 0 -1 WITHSCORES</span><br><span class="line"> 1) &quot;a&quot;</span><br><span class="line"> 2) &quot;13&quot;</span><br><span class="line"> 3) &quot;b&quot;</span><br><span class="line"> 4) &quot;20&quot;</span><br><span class="line"> 5) &quot;c&quot;</span><br><span class="line"> 6) &quot;30&quot;</span><br><span class="line"> 7) &quot;d&quot;</span><br><span class="line"> 8) &quot;40&quot;</span><br><span class="line"> 9) &quot;e&quot;</span><br><span class="line">10) &quot;50.100000000000001&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZCARD"><a href="#ZCARD" class="headerlink" title="ZCARD"></a>ZCARD</h2><p>返回key的元素个数，如果key不存在，返回0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zadd set1 1 a 2 b 3 c</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zcard set1</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zcard set10</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<h2 id="ZCOUNT"><a href="#ZCOUNT" class="headerlink" title="ZCOUNT"></a>ZCOUNT</h2><blockquote>
<p>ZCOUNT key min max</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zadd set7 1 a 3 b 3 c 4 d</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; zcount set7 1 4</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; zcount set7 [1 (4   &#x2F;&#x2F;不支持[</span><br><span class="line">(error) ERR min or max is not a float</span><br><span class="line">127.0.0.1:6379&gt; zcount set7 1 (4</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zcount set7 -inf +inf</span><br><span class="line">(integer) 4</span><br></pre></td></tr></table></figure>

<h2 id="ZINCRBY"><a href="#ZINCRBY" class="headerlink" title="ZINCRBY"></a>ZINCRBY</h2><blockquote>
<p>ZINCRBY key increment member</p>
</blockquote>
<p>给元素的分数增加/递减</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set7 0 -1 withscores</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;3&quot;</span><br><span class="line">5) &quot;c&quot;</span><br><span class="line">6) &quot;3&quot;</span><br><span class="line">7) &quot;d&quot;</span><br><span class="line">8) &quot;4&quot;</span><br><span class="line">127.0.0.1:6379&gt; zincrby set7 2 a</span><br><span class="line">&quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zincrby set7 -1 a</span><br><span class="line">&quot;2&quot;</span><br><span class="line">127.0.0.1:6379&gt; zincrby set7 5 e</span><br><span class="line">&quot;5&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZINTER"><a href="#ZINTER" class="headerlink" title="ZINTER"></a>ZINTER</h2><p><a target="_blank" rel="noopener" href="https://redis.io/commands/zinter">https://redis.io/commands/zinter</a></p>
<h2 id="ZINTERSTORE"><a href="#ZINTERSTORE" class="headerlink" title="ZINTERSTORE"></a>ZINTERSTORE</h2><blockquote>
<p>ZINTERSTORE destination numkeys key [key …] [WEIGHTS weight [weight …]] [AGGREGATE SUM|MIN|MAX]</p>
</blockquote>
<p>取有序集合的交合到一个key中<a target="_blank" rel="noopener" href="http://redis.cn/commands/zinterstore.html">http://redis.cn/commands/zinterstore.html</a></p>
<h2 id="ZLEXCOUNT"><a href="#ZLEXCOUNT" class="headerlink" title="ZLEXCOUNT"></a>ZLEXCOUNT</h2><blockquote>
<p>ZLEXCOUNT key min max</p>
</blockquote>
<p>计算有序集合元素之间的元素数量，key的元素分数相同才有意义<a target="_blank" rel="noopener" href="http://redis.cn/commands/zlexcount.html">http://redis.cn/commands/zlexcount.html</a></p>
<h2 id="ZMSCORE"><a href="#ZMSCORE" class="headerlink" title="ZMSCORE"></a>ZMSCORE</h2><p><a target="_blank" rel="noopener" href="https://redis.io/commands/zmscore">https://redis.io/commands/zmscore</a></p>
<h2 id="ZPOPMAX"><a href="#ZPOPMAX" class="headerlink" title="ZPOPMAX"></a>ZPOPMAX</h2><p>弹出最大的值，默认1个，可加参数调整弹出的个数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set0 0 -1 withscores</span><br><span class="line"> 1) &quot;a&quot;</span><br><span class="line"> 2) &quot;16.010000000000002&quot;</span><br><span class="line"> 3) &quot;b&quot;</span><br><span class="line"> 4) &quot;20&quot;</span><br><span class="line"> 5) &quot;g&quot;</span><br><span class="line"> 6) &quot;70&quot;</span><br><span class="line"> 7) &quot;g0&quot;</span><br><span class="line"> 8) &quot;70&quot;</span><br><span class="line"> 9) &quot;g1&quot;</span><br><span class="line">10) &quot;70&quot;</span><br><span class="line">11) &quot;g2&quot;</span><br><span class="line">12) &quot;70&quot;</span><br><span class="line">13) &quot;g3&quot;</span><br><span class="line">14) &quot;70&quot;</span><br><span class="line">127.0.0.1:6379&gt; zpopmax set0</span><br><span class="line">1) &quot;g3&quot;</span><br><span class="line">2) &quot;70&quot;</span><br><span class="line">127.0.0.1:6379&gt; zpopmax set0 3</span><br><span class="line">1) &quot;g2&quot;</span><br><span class="line">2) &quot;70&quot;</span><br><span class="line">3) &quot;g1&quot;</span><br><span class="line">4) &quot;70&quot;</span><br><span class="line">5) &quot;g0&quot;</span><br><span class="line">6) &quot;70&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set0 0 -1 withscores</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;16.010000000000002&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;20&quot;</span><br><span class="line">5) &quot;g&quot;</span><br><span class="line">6) &quot;70&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZPOPMIN"><a href="#ZPOPMIN" class="headerlink" title="ZPOPMIN"></a>ZPOPMIN</h2><p>同上，弹出最小的值，默认1个，可加参数调整弹出的个数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zpopmin set0 1</span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">127.0.0.1:6379&gt; zpopmin set0 3</span><br><span class="line">1) &quot;c1&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;c2&quot;</span><br><span class="line">4) &quot;1&quot;</span><br><span class="line">5) &quot;c3&quot;</span><br><span class="line">6) &quot;1&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZRANGE"><a href="#ZRANGE" class="headerlink" title="ZRANGE"></a>ZRANGE</h2><blockquote>
<p>ZRANGE key start stop [WITHSCORES]</p>
</blockquote>
<p>返回一个区间的结果数组,strat从0开始，stop从zcard-1/-1开始,<code>WITHSCORES</code>结果带上score</p>
<p>结果按分数升序排列，相同分数的按key的字典正序排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set1 0 3 withscores  &#x2F;&#x2F;3大于右边界，退化成2</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;2&quot;</span><br><span class="line">5) &quot;c&quot;</span><br><span class="line">6) &quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 0 0 withscores</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 0 2 withscores</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;2&quot;</span><br><span class="line">5) &quot;c&quot;</span><br><span class="line">6) &quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 0 -1 withscores &#x2F;&#x2F;-1表示右边第一个值</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;2&quot;</span><br><span class="line">5) &quot;c&quot;</span><br><span class="line">6) &quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 0 -2 withscores &#x2F;&#x2F;-2表示右边第二个值</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;b&quot;</span><br><span class="line">4) &quot;2&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 -1 -2 withscores    &#x2F;&#x2F;左边-1就越界了</span><br><span class="line">(empty list or set)</span><br><span class="line">127.0.0.1:6379&gt; zrange set1 0 -1 withscores     &#x2F;&#x2F;分数升序，字典正序</span><br><span class="line"> 1) &quot;a&quot;</span><br><span class="line"> 2) &quot;1&quot;</span><br><span class="line"> 3) &quot;b&quot;</span><br><span class="line"> 4) &quot;2&quot;</span><br><span class="line"> 5) &quot;c&quot;</span><br><span class="line"> 6) &quot;3&quot;</span><br><span class="line"> 7) &quot;c1&quot;</span><br><span class="line"> 8) &quot;3&quot;</span><br><span class="line"> 9) &quot;c2&quot;</span><br><span class="line">10) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZRANGEBYLEX"><a href="#ZRANGEBYLEX" class="headerlink" title="ZRANGEBYLEX"></a>ZRANGEBYLEX</h2><blockquote>
<p>ZRANGEBYLEX key min max [LIMIT offset count]</p>
</blockquote>
<p>对分数相同的元素进行ascii排序，通过memcmp函数，如果key中元素分数不一致就不要用</p>
<p>min,max的使用</p>
<ul>
<li>-表示最左边的元素，+表示最右边的元素</li>
<li><code>[</code>是包含,<code>(</code>不包含</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zadd set3 0 aaa 0 aba 0 abc 0 bbb 0 bcb 0 bcc 0 ccc</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 - +    &#x2F;&#x2F;列出所有</span><br><span class="line">1) &quot;aaa&quot;</span><br><span class="line">2) &quot;aba&quot;</span><br><span class="line">3) &quot;abc&quot;</span><br><span class="line">4) &quot;bbb&quot;</span><br><span class="line">5) &quot;bcb&quot;</span><br><span class="line">6) &quot;bcc&quot;</span><br><span class="line">7) &quot;ccc&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 - + LIMIT 0 7  &#x2F;&#x2F;offset count</span><br><span class="line">1) &quot;aaa&quot;</span><br><span class="line">2) &quot;aba&quot;</span><br><span class="line">3) &quot;abc&quot;</span><br><span class="line">4) &quot;bbb&quot;</span><br><span class="line">5) &quot;bcb&quot;</span><br><span class="line">6) &quot;bcc&quot;</span><br><span class="line">7) &quot;ccc&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 - + LIMIT 1 2</span><br><span class="line">1) &quot;aba&quot;</span><br><span class="line">2) &quot;abc&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 [a (b  &#x2F;&#x2F;以a开头的</span><br><span class="line">1) &quot;aaa&quot;</span><br><span class="line">2) &quot;aba&quot;</span><br><span class="line">3) &quot;abc&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 [ab (ac    &#x2F;&#x2F;以ab开头的</span><br><span class="line">1) &quot;aba&quot;</span><br><span class="line">2) &quot;abc&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZRANGEBYSCORE"><a href="#ZRANGEBYSCORE" class="headerlink" title="ZRANGEBYSCORE"></a>ZRANGEBYSCORE</h2><blockquote>
<p>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</p>
</blockquote>
<p>ZRANGEBYSCORE和ZRANGE配合WITHSCORES还是有区别的.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zadd set4 1 a  2 b  3 c  4 d 5 e 6 f</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 - +  &#x2F;&#x2F;不支持这种格式</span><br><span class="line">(error) ERR min or max is not a float</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 -inf +inf    &#x2F;&#x2F;所有元素</span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">4) &quot;d&quot;</span><br><span class="line">5) &quot;e&quot;</span><br><span class="line">6) &quot;f&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 -inf +inf LIMIT 1 2  &#x2F;&#x2F;limit</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 -inf +inf WITHSCORES LIMIT 1 2   &#x2F;&#x2F;withscores</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">4) &quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 [1 [3 WITHSCORES LIMIT 1 2   &#x2F;&#x2F;不支持[</span><br><span class="line">(error) ERR min or max is not a float</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 1 3 WITHSCORES LIMIT 1 2</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line">4) &quot;3&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 (1 (3 WITHSCORES LIMIT 1 2</span><br><span class="line">(empty list or set)</span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore set4 (1 (3 WITHSCORES &#x2F;&#x2F;支持(</span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;2&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZRANK"><a href="#ZRANK" class="headerlink" title="ZRANK"></a>ZRANK</h2><blockquote>
<p>ZRANK key member</p>
</blockquote>
<p>返回元素按score的排名，从低到高，不存在的话返回nil</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zadd set5 1 a 2 b 3 c 4 d 5 e</span><br><span class="line">(integer) 5</span><br><span class="line">127.0.0.1:6379&gt; zrank set5 a</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; zrank set5 b</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; zrank set5 k</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<h2 id="ZREM"><a href="#ZREM" class="headerlink" title="ZREM"></a>ZREM</h2><blockquote>
<p>ZREM key member [member …]</p>
</blockquote>
<p>remove元素，支持一次删除多个(ver&gt;=2.4),返回删除成功的元素个数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set5 0 -1 withscores</span><br><span class="line"> 1) &quot;a&quot;</span><br><span class="line"> 2) &quot;1&quot;</span><br><span class="line"> 3) &quot;b&quot;</span><br><span class="line"> 4) &quot;2&quot;</span><br><span class="line"> 5) &quot;c&quot;</span><br><span class="line"> 6) &quot;3&quot;</span><br><span class="line"> 7) &quot;d&quot;</span><br><span class="line"> 8) &quot;4&quot;</span><br><span class="line"> 9) &quot;e&quot;</span><br><span class="line">10) &quot;5&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrem set5 a b c o</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zrange set5 0 -1 withscores</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;4&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line">4) &quot;5&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrem set5 p</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<h2 id="ZREMRANGEBYLEX"><a href="#ZREMRANGEBYLEX" class="headerlink" title="ZREMRANGEBYLEX"></a>ZREMRANGEBYLEX</h2><blockquote>
<p>ZREMRANGEBYLEX key min max</p>
</blockquote>
<p>rangeby只对分数相同的key有效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set3 0 -1 withscores</span><br><span class="line"> 1) &quot;aaa&quot;</span><br><span class="line"> 2) &quot;0&quot;</span><br><span class="line"> 3) &quot;aba&quot;</span><br><span class="line"> 4) &quot;0&quot;</span><br><span class="line"> 5) &quot;abc&quot;</span><br><span class="line"> 6) &quot;0&quot;</span><br><span class="line"> 7) &quot;bbb&quot;</span><br><span class="line"> 8) &quot;0&quot;</span><br><span class="line"> 9) &quot;bcb&quot;</span><br><span class="line">10) &quot;0&quot;</span><br><span class="line">11) &quot;bcc&quot;</span><br><span class="line">12) &quot;0&quot;</span><br><span class="line">13) &quot;ccc&quot;</span><br><span class="line">14) &quot;0&quot;</span><br><span class="line">127.0.0.1:6379&gt; zrangebylex set3 - +</span><br><span class="line">1) &quot;aaa&quot;</span><br><span class="line">2) &quot;aba&quot;</span><br><span class="line">3) &quot;abc&quot;</span><br><span class="line">4) &quot;bbb&quot;</span><br><span class="line">5) &quot;bcb&quot;</span><br><span class="line">6) &quot;bcc&quot;</span><br><span class="line">7) &quot;ccc&quot;</span><br><span class="line">127.0.0.1:6379&gt; zremrangebylex set3 [a (b   &#x2F;&#x2F;删除以a开头的</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zrange set3 0 -1 withscores</span><br><span class="line">1) &quot;bbb&quot;</span><br><span class="line">2) &quot;0&quot;</span><br><span class="line">3) &quot;bcb&quot;</span><br><span class="line">4) &quot;0&quot;</span><br><span class="line">5) &quot;bcc&quot;</span><br><span class="line">6) &quot;0&quot;</span><br><span class="line">7) &quot;ccc&quot;</span><br><span class="line">8) &quot;0&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZREMRANGEBYRANK"><a href="#ZREMRANGEBYRANK" class="headerlink" title="ZREMRANGEBYRANK"></a>ZREMRANGEBYRANK</h2><blockquote>
<p>ZREMRANGEBYRANK key start stop</p>
</blockquote>
<p>删除按分数排名的区间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange set4 0 -1 withscores</span><br><span class="line"> 1) &quot;a&quot;</span><br><span class="line"> 2) &quot;1&quot;</span><br><span class="line"> 3) &quot;b&quot;</span><br><span class="line"> 4) &quot;2&quot;</span><br><span class="line"> 5) &quot;c&quot;</span><br><span class="line"> 6) &quot;3&quot;</span><br><span class="line"> 7) &quot;d&quot;</span><br><span class="line"> 8) &quot;4&quot;</span><br><span class="line"> 9) &quot;e&quot;</span><br><span class="line">10) &quot;5&quot;</span><br><span class="line">11) &quot;f&quot;</span><br><span class="line">12) &quot;6&quot;</span><br><span class="line">127.0.0.1:6379&gt; zremrangebyrank set4 0 2    &#x2F;&#x2F;删除前三个</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; zrange set4 0 -1 withscores</span><br><span class="line">1) &quot;d&quot;</span><br><span class="line">2) &quot;4&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line">4) &quot;5&quot;</span><br><span class="line">5) &quot;f&quot;</span><br><span class="line">6) &quot;6&quot;</span><br><span class="line">127.0.0.1:6379&gt; zremrangebyrank set4 -3 -2  &#x2F;&#x2F;删除倒数第2，3个</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; zrange set4 0 -1 withscores</span><br><span class="line">1) &quot;f&quot;</span><br><span class="line">2) &quot;6&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ZREMRANGEBYSCORE"><a href="#ZREMRANGEBYSCORE" class="headerlink" title="ZREMRANGEBYSCORE"></a>ZREMRANGEBYSCORE</h2><blockquote>
<p>ZREMRANGEBYSCORE key min max</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://redis.io/commands/zremrangebyscore">https://redis.io/commands/zremrangebyscore</a></p>
<h2 id="ZREVRANGE"><a href="#ZREVRANGE" class="headerlink" title="ZREVRANGE"></a>ZREVRANGE</h2><p>同上取反</p>
<h2 id="ZREVRANGEBYLEX"><a href="#ZREVRANGEBYLEX" class="headerlink" title="ZREVRANGEBYLEX"></a>ZREVRANGEBYLEX</h2><p>同上取反</p>
<h2 id="ZREVRANGEBYSCORE"><a href="#ZREVRANGEBYSCORE" class="headerlink" title="ZREVRANGEBYSCORE"></a>ZREVRANGEBYSCORE</h2><p>同上取反</p>
<h2 id="ZREVRANK"><a href="#ZREVRANK" class="headerlink" title="ZREVRANK"></a>ZREVRANK</h2><p>同上取反</p>
<h2 id="ZSCAN"><a href="#ZSCAN" class="headerlink" title="ZSCAN"></a>ZSCAN</h2><h2 id="ZSCORE"><a href="#ZSCORE" class="headerlink" title="ZSCORE"></a>ZSCORE</h2><h2 id="ZUNION"><a href="#ZUNION" class="headerlink" title="ZUNION"></a>ZUNION</h2><h2 id="ZUNIONSTORE"><a href="#ZUNIONSTORE" class="headerlink" title="ZUNIONSTORE"></a>ZUNIONSTORE</h2><h2 id="time-comlexity"><a href="#time-comlexity" class="headerlink" title="time comlexity"></a>time comlexity</h2><h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p>[1]<a target="_blank" rel="noopener" href="https://redis.io/commands/zrangebylex">https://redis.io/commands/zrangebylex</a></p>
<p>[2]<a target="_blank" rel="noopener" href="http://redis.cn/commands/zrangebyscore.html">http://redis.cn/commands/zrangebyscore.html</a></p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>TheRiver
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://riverferry.site/2020-11-06-redis-sorted-set/" title="redis sorted set">https://riverferry.site/2020-11-06-redis-sorted-set/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020-11-06-skip-list%20in%20redis/" rel="prev" title="skip-list in redis">
      <i class="fa fa-chevron-left"></i> skip-list in redis
    </a></div>
      <div class="post-nav-item">
    <a href="/2020-11-07-hash%20in%20redis/" rel="next" title="hash in redis">
      hash in redis <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  
   <div>
     <div>
  
    <div style="text-align:center;color:#bfbfbf;font-size:16px;">
      <span>----------- ending -----------</span>
    </div>
  
</div>

   </div>
 



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#BZPOPMAX"><span class="nav-number">1.</span> <span class="nav-text">BZPOPMAX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BZPOPMIN"><span class="nav-number">2.</span> <span class="nav-text">BZPOPMIN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZADD"><span class="nav-number">3.</span> <span class="nav-text">ZADD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#options"><span class="nav-number">3.1.</span> <span class="nav-text">options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#return-value"><span class="nav-number">3.2.</span> <span class="nav-text">return value</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo"><span class="nav-number">3.3.</span> <span class="nav-text">demo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZCARD"><span class="nav-number">4.</span> <span class="nav-text">ZCARD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZCOUNT"><span class="nav-number">5.</span> <span class="nav-text">ZCOUNT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZINCRBY"><span class="nav-number">6.</span> <span class="nav-text">ZINCRBY</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZINTER"><span class="nav-number">7.</span> <span class="nav-text">ZINTER</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZINTERSTORE"><span class="nav-number">8.</span> <span class="nav-text">ZINTERSTORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZLEXCOUNT"><span class="nav-number">9.</span> <span class="nav-text">ZLEXCOUNT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZMSCORE"><span class="nav-number">10.</span> <span class="nav-text">ZMSCORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZPOPMAX"><span class="nav-number">11.</span> <span class="nav-text">ZPOPMAX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZPOPMIN"><span class="nav-number">12.</span> <span class="nav-text">ZPOPMIN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZRANGE"><span class="nav-number">13.</span> <span class="nav-text">ZRANGE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZRANGEBYLEX"><span class="nav-number">14.</span> <span class="nav-text">ZRANGEBYLEX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZRANGEBYSCORE"><span class="nav-number">15.</span> <span class="nav-text">ZRANGEBYSCORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZRANK"><span class="nav-number">16.</span> <span class="nav-text">ZRANK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREM"><span class="nav-number">17.</span> <span class="nav-text">ZREM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREMRANGEBYLEX"><span class="nav-number">18.</span> <span class="nav-text">ZREMRANGEBYLEX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREMRANGEBYRANK"><span class="nav-number">19.</span> <span class="nav-text">ZREMRANGEBYRANK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREMRANGEBYSCORE"><span class="nav-number">20.</span> <span class="nav-text">ZREMRANGEBYSCORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREVRANGE"><span class="nav-number">21.</span> <span class="nav-text">ZREVRANGE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREVRANGEBYLEX"><span class="nav-number">22.</span> <span class="nav-text">ZREVRANGEBYLEX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREVRANGEBYSCORE"><span class="nav-number">23.</span> <span class="nav-text">ZREVRANGEBYSCORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZREVRANK"><span class="nav-number">24.</span> <span class="nav-text">ZREVRANK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZSCAN"><span class="nav-number">25.</span> <span class="nav-text">ZSCAN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZSCORE"><span class="nav-number">26.</span> <span class="nav-text">ZSCORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZUNION"><span class="nav-number">27.</span> <span class="nav-text">ZUNION</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZUNIONSTORE"><span class="nav-number">28.</span> <span class="nav-text">ZUNIONSTORE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#time-comlexity"><span class="nav-number">29.</span> <span class="nav-text">time comlexity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">30.</span> <span class="nav-text">reference</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="TheRiver"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">TheRiver</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">210</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TheRiver</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">17:09</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '828d98635e4048805831',
      clientSecret: 'cdf9f70acdfbecd65e89bc3a8c2954be1af2ee01',
      repo        : 'gitalk',
      owner       : 'RiverFerry',
      admin       : ['RiverFerry'],
      id          : 'c9aaef344b182b5a9f27ee4b676d4628',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/ Relative)","tagMode":false,"log":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":300,"height":800,"hOffset":20,"vOffset":20},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2}});</script></body>
</html>
